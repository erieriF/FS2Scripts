local localPlayer = game:GetService("Players").LocalPlayer

local function getClosest()
    local closestPlayer = nil
    local shortestDistance = math.huge
    
    for i, v in pairs(game:GetService("Workspace").Zombies:GetChildren()) do
        if v:FindFirstChild("Zombie") and v.Zombie.Health ~= 0 and v:FindFirstChild("Torso") and v:FindFirstChild("Head") then
            local magnitude = (v.Torso.Position - localPlayer.Character.Torso.Position).magnitude

            if magnitude < shortestDistance then
                closestPlayer = v
                shortestDistance = magnitude
            end
        end
    end

    return closestPlayer
end
local library = loadstring(game:HttpGet(('https://raw.githubusercontent.com/bloodball/-back-ups-for-libs/main/wall%20v3')))()

local w = library:CreateWindow("Modified by firasthe2")

local b = w:CreateFolder("Melee aura functions") 
local credits = w:CreateFolder("Credits")

credits:Label("Script modifier: firasthe2",{
TextSize = 17,
TextColor = Color3.fromRGB(0,255,0),
BgColor = Color3.fromRGB(30,30,30)
})

b:Button("Knife Aura",function()
  

while true do
    wait()

local args = {
    [1] = "Melee",
    [2] = {
        [1] = {
            [2] = {},
            [1] = getClosest():FindFirstChild("Head")
        }
    }
}

game:GetService("ReplicatedStorage").RemoteEvents.RemoteFireMelee:FireServer(unpack(args))


end

end)
b:Button("Baseball Bat Aura",function()
    
local localPlayer = game:GetService("Players").LocalPlayer

while true do
    wait()
spawn(function()
local args = {
    [1] = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Baseball Bat"),
    [2] = {
        [1] = {
            [1] = getClosest():FindFirstChild("Head"),
            [2] = {
                ["Critical"] = true,
                ["OverDamage"] = true,
                ["ActiveAnimation"] = "Over"
            }
        }
    },
    [3] = {
        ["ActiveAnimation"] = "Over"
    }
}

game:GetService("ReplicatedStorage").RemoteEvents.RemoteFireMelee:FireServer(unpack(args))
end)
end
end)
b:Button("Military Axe Aura",function()
    
while true do
    wait()
spawn(function()
local args = {
    [1] = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Military Axe"),
    [2] = {
        [1] = {
            [1] = getClosest():FindFirstChild("Head"),
            [2] = {
                ["Critical"] = true,
                ["OverDamage"] = true,
                ["ActiveAnimation"] = "Over"
            }
        }
    },
    [3] = {
        ["ActiveAnimation"] = "Over"
    }
}

game:GetService("ReplicatedStorage").RemoteEvents.RemoteFireMelee:FireServer(unpack(args))
end)
end
end)
b:Button("Katana Aura",function()
    
while true do
    wait()

spawn(function()
local args = {
    [1] = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Katana"),
    [2] = {
        [1] = {
            [1] = getClosest():FindFirstChild("Head"),
            [2] = {
                ["Critical"] = true,
                ["OverDamage"] = true,
                ["ActiveAnimation"] = "Over"
            }
        }
    },
    [3] = {
        ["ActiveAnimation"] = "Over"
    }
}

game:GetService("ReplicatedStorage").RemoteEvents.RemoteFireMelee:FireServer(unpack(args))
end)
end
end)
b:Button("Energy Sword Aura",function()
    
while true do
    wait()
spawn(function()
local args = {
    [1] = game:GetService("Players").LocalPlayer.Character:FindFirstChild("Energy Sword"),
    [2] = {
        [1] = {
            [1] = getClosest():FindFirstChild("Head"),
            [2] = {
                ["Critical"] = true,
                ["ActiveAnimation"] = "Right",
                ["AltDamage"] = true
            }
        }
    },
    [3] = {
        ["ActiveAnimation"] = "Right"
    }
}

game:GetService("ReplicatedStorage").RemoteEvents.RemoteFireMelee:FireServer(unpack(args))
end)
end
end)
